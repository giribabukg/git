<div class="th1">
	<a href="javascript:cpl('frm.project','cpl.{src}.project')" class="db w800" style="display:inline-block;width:51%;">General Printer Details</a>
	<a href="javascript:cpl('frm.project','cpl.{src}.project')" class="db w800" style="display:inline-block;width:47%;">Additional Customer Information</a>
</div>
<div id="frm.project" style="display:{display}" class="frm p8 w800">

<table border="0" cellpadding="0" cellspacing="0" style="width:100%">
	<tr>
		<td valign="top">

		<table border="0" cellpadding="2" cellspacing="0" style="width:100%">
			<tr>
				<td class="ar nw w100">{bez.jobnr}</td>
				<td>{txt.jobnr}</td>
			</tr>
			<tr>
				<td class="ar nw">{bez.pro_printer}</td>
				<td>{val.pro_printer}</td>
			</tr>
			<tr>
				<td class="nw ar">{bez.pro_address}</td>
				<td>{val.pro_address}</td>
			</tr>
			<tr>
				<td class="nw ar">{bez.house_no}</td>
				<td>{val.house_no}</td>
			</tr>
			<tr>
				<td class="nw ar">{bez.zip_code}</td>
				<td>{val.zip_code}</td>
			</tr>
			<tr>
				<td class="nw ar">{bez.city}</td>
				<td>{val.city}</td>
			</tr>
			<tr>
				<td class="nw ar">{bez.country}</td>
				<td>{val.country}</td>
			</tr>
			<tr>
				<td class="nw ar">{bez.pro_contact}</td>
				<td>{val.pro_contact}</td>
			</tr>
			<tr>
				<td class="nw ar">{bez.email}</td>
				<td>{val.email}</td>
			</tr>
			<tr>
				<td class="nw ar">{bez.pro_telephone}</td>
				<td>{val.pro_telephone}</td>
			</tr>
			
		</table>

		</td>
		<td class="w16">&nbsp;</td>
		<td valign="top">

		<table border="0" cellpadding="2" cellspacing="0" style="width:100%">
			<tr>
				<td class="nw ar">{bez.cusgroup1}</td>
				<td>{val.cusgroup1}</td>
			</tr>
			<tr>
				<td class="ar nw w100">{bez.printerno}</td>
				<td>{val.printerno}</td>
			</tr>
			<tr>
				<td class="nw ar">{bez.customername}</td>
				<td>{val.customername}</td>
			</tr>
			<tr>
				<td class="ar nw w100">{bez.customerresponsible}</td>
				<td>{val.customerresponsible}</td>
			</tr>
			<tr>
				<td class="nw ar">{bez.brandowner}</td>
				<td>{val.brandowner}</td>
			</tr>
			<tr>
				<td class="nw ar">{bez.corporate_code}</td>
				<td>{val.corporate_code}</td>
			</tr>
			<tr>
				<td class="nw ar">{bez.profile_search_term}</td>
				<td>{val.profile_search_term}</td>
			</tr>
		</table>

		</td>
	</tr>
</table>
<br />
</div>



<div class="th1">
	<a href="javascript:cpl('frm.ids','cpl.{src}.ids')" class="db w800">Profile Details</a>
</div>
<div id="frm.ids" style="display:{display}" class="frm p8 w800">

<table border="0" cellpadding="0" cellspacing="0" style="width:100%">
	<tr>
		<td valign="top">

		<table border="0" cellpadding="2" cellspacing="0" style="width:100%">
			<tr>
				<td class="ar nw w100">{bez.sitespec}</td>
				<td>{val.sitespec}</td>
			</tr>
			<tr>
				<td class="ar nw w100">{bez.spec}</td>
				<td>{val.spec}</td>
			</tr>
			<tr>
				<td class="ar nw w100">{bez.creationdate}</td>
				<td>{val.creationdate}</td>
			</tr>
			<tr>
				<td class="ar nw">&nbsp;</td>
				<td></td>
			</tr>
			<tr>
			<td  class="ar nw">{bez.profil_name}</td>
			<td>{val.profil_name}</td>
		</tr>
		<tr>
			<td  class="ar nw">&nbsp;</td>
			<td>{val.profile_manual}&nbsp;{bez.profile_manual}</td>
		</tr>
			
		</table>

		</td>
		<td class="w16">&nbsp;</td>
		<td valign="top">

		<table border="0" cellpadding="2" cellspacing="0" style="width:100%">
			<tr>
				<td class="ar nw w100">{bez.profile_gmg}</td>
				<td>{val.profile_gmg}</td>
			</tr>
			<tr>
				<td class="ar nw">{bez.profile_softproof}</td>
				<td>{val.profile_softproof}</td>
			</tr>
			<tr>
				<td class="ar nw">{bez.profile_roland}</td>
				<td>{val.profile_roland}</td>
			</tr>
			<tr>
				<td class="ar nw">{bez.profile_kodak}</td>
				<td>{val.profile_kodak}</td>
			</tr>
			<tr>
				<td class="ar nw">&nbsp;</td>
				<td></td>
			</tr>
			<tr>
				<td class="ar nw">{bez.profile_generic_profile}</td>
				<td>{val.profile_generic_profile}</td>
			</tr>
		</table>

		</td>
	</tr>	
</table>

	<table border="0" cellpadding="2" cellspacing="0" style="width:100%">
		<!-- <tr>
			<td  class="ar nw">{bez.profil_name}</td>
			<td colspan="2">{val.profil_name}</td>
		</tr>
		<tr>
			<td  class="ar nw">&nbsp;</td>
			<td colspan="2">{val.profile_manual}&nbsp;{bez.profile_manual}</td>
		</tr> -->
	</table>

<br />
</div>

<script type="text/javascript">
jQuery(function() {
    var fields = '.field_sitespec,.field_corporate_code,.field_profil_epson_system,.field_profil_alt_printer,.field_profil_proof_type,.field_jobnr';
    var fieldArray = fields.split(',');

    function updateProfile(aSuffix) {
        if (jQuery('.field_profile_manual'+aSuffix).is(':checked')) {
            return;
        }
        var ret = '';
        var arr = fieldArray;
        for (var i = 0,l = fieldArray.length; i < l; i++) {
            var curKey =  fieldArray[i];
            var val = jQuery(curKey + aSuffix).val();
            if ('.field_sitespec' == curKey) {
            	if ('636' == val) {
                    ret += '5025 ';
                }
                if ('639' == val) {
                    ret += '4629 ';
                }
                if ('640' == val) {
                    ret += '4623 ';
                }
            } else {  
                if (typeof(val) != 'undefined' && '' != val) {
                    ret += val + ' ';
                }
            }
        }
        ret = ret.trim();
        //console.log('.field_profil_name' + aSuffix, ret);   
        jQuery('.field_profil_name' + aSuffix).val(ret.substr(0,30));
    }

    function registerProfile(aNum) {
        for (var i = 0, l = fieldArray.length; i < l; i++) {
        	console.log(fieldArray[i]);
        	jQuery(fieldArray[i] + aNum).on('change', function() { updateProfile(aNum); });
        	
        }

        jQuery('.field_profile_manual' + aNum).on('change', function() { updateProfile(aNum); });
    }
    
    registerProfile('');
});

</script>